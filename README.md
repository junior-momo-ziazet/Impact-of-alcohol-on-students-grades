# Malicious Android Application Detection with Machine Learning

## Abstract
In the past decade, Android rose up to be the most used Mobile Operating System with an [87% market share](https://www.idc.com/promo/smartphone-market-share/os#:~:text=Android%3A%20Android's%20smartphone%20share%20will,response%20despite%20the%20pandemic%20hurdles). Compared to its main competitor iOS, Android is a lax system that allows downloads from a wide variety of sources. The openness of Android allows the user to install software from unsupervised third-party stores, and it causes the system to be vulnerable to the injection of malicious software that could cause security breach as well as data privacy endangerment. This project aims at analysing the APK (Android Application Package Kit) files of Android applications in order to extract important signatures for the detection of malicious applications. Feature extraction techniques will be applied on the APK file and once the best attributes are determined, we will use them to develop a malware scanner. This work uses the [Drebin](https://www.sec.cs.tu-bs.de/~danarp/drebin/) dataset containing 5560 APKs of malicious applications combined with [AndroZoo](https://androzoo.uni.lu/) dataset also containing 6000 APKs of benign applications.

## Introduction
At its I/O 2019 Developer Conference in Mountain View, Google revealed that Android now powers [2.5 billion active devices](https://venturebeat.com/2019/05/07/android-passes-2-5-billion-monthly-active-devices/). One of the reasons for this growth of Google-developed Android is it's free and open-source platform, which allows mobile phone manufacturers to use and adapt the operating system for their own devices. Being an open Operating System, Android is vulnerable to malicious software.
 
It is easy for those malwares to make their way through a phone’s system, and the damage it could potentially cause is significant. Malwares can spy on data (Spywares), block the phone’s access for a ransom (Ransomwares), harm or corrupt the system and even spread through connected devices (Worms).  In 2016, according to the [G Data H1/2016 report](https://file.gdatasoftware.com/web/en/documents/whitepaper/G_DATA_Mobile_Malware_Report_H1_2016_EN.pdf), 1,723,265 new malicious application examples were identified. Yet again, the amount of new malicious software is increasing, as well as the complexity of the current malwares such as new variants introduced to prevent their detection. Indeed, Malicious systems can penetrate the system through multiple techniques, such as downloading software in the background without the user’s consent (known as Drive by Download), encrypting malwares so that they can’t be recognized by the anti-virus (Dynamic Payloads) and exploiting the limited resources of the device hardware to bypass the security system (Stealth Malwares). Therefore, there is an urgent need to analyze these applications regarding malicious software to detect whether an application is benign or malicious.
 
In this study, we aim to prevent these malicious applications from being installed by developing a Machine Learning based detection system  that would  predict if a piece of software contains malwares . We want to first investigate how to extract useful features from APK data files, then represent these features as images, text, etc. and finally use them to build a malicious application detector.
 
From what we were able to find, several Machine Learning approaches have been proposed to detect malicious Android applications, and they fall into two general categories with respect to feature extraction, static and dynamic analysis.
The static analysis methods [1, 2, 3], analyze the features found in the .apk file such as permissions, APIs from an application’s code or metadata without executing the program (thus before being installed on the device). In [4, 5], Naive Bayes and random forest models are applied with APIs and metadata.  In [6], authors converted malware into gray images and used KNN to classify different malware families. 
On the contrary, dynamic analysis methods are based on the behavior of Android applications (thus executing the application and collecting behavioral events at runtime then transforming them into features). Such a method was used by [7, 8], where platform APIs, system calls, file and network access information were used as input features and Naive bayes was used to make the classification.
